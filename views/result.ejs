<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Message Generator</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body class="p-4">
    <h3>Generated Message</h3>
    <p><%=message%></p>

    <h4>Create New Message Here</h4>

    <form action="/generateMessage" method="POST" class="row">
        <div class="col-auto mb-3">
            <label for="guest" class="form-label">Select Guest:</label>
            <select name="guest" id="guest" class="form-control">
                <%for(const guest of guests){%>
                    <option value="<%=guest.id%>"><%=guest.firstName%> <%=guest.lastName%></option>
                <%}%>
            </select>
        </div>
        <div class="col-auto mb-3">
            <label for="company" class="form-label">Select Company:</label>
            <select name="company" id="company" class="form-control">
                <%for(const company of companies){%>
                    <option value="<%=company.id%>"><%=company.company%></option>
                <%}%>
            </select>
        </div>
        <div class="col-auto mb-3">
            <label for="message" class="form-label">Select Message:</label>
            <select name="message" id="message" class="form-control">
                <%for(const message of messages){%>
                    <option value="<%=message.id%>"><%=message.name%></option>
                <%}%>
                <option value="custom">Custom Message</option>
            </select>    
        </div>
        <div class="col-auto mb-3 d-none" id="customMessageContainer">
            <label for="customMessage" class="form-label">Type Custom Message Here:</label>
            <textarea name="customMessage" id="customMessage" cols="40" rows="5" class="form-control"></textarea>
        </div>
        <div>
            <input type="submit" value="Submit" class="btn btn-primary">
        </div>
    </form>

    <h4 class="mt-3">Available Variables for Custom Message</h4>
    <p>Click the button to copy the following variables to your clipboard, and paste into your custom message to insert the value.</p>
    <ul>
        <li>Guest's First Name: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${guestFirst}')">${guestFirst}</button></li>
        <li>Guest's Last Name: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${guestLast}')">${guestLast}</button></li>
        <li>Guest's Room Number: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${roomNumber}')">${roomNumber}</button></li>
        <li>Reservation Start Time: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${startTime}')">${startTime}</button></li>
        <li>Reservation End Time: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${endTime}')">${endTime}</button></li>
        <li>Company Name: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${company}')">${company}</button></li>
        <li>Company City: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${city}')">${city}</button></li>
        <li>Company Timezone: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${timezone}')">${timezone}</button></li>
        <li>Greeting Generated Base on Current Time: <br> <button class="btn btn-primary mb-1" onclick="navigator.clipboard.writeText('${greeting}')">${greeting}</button></li>
    </ul>

    <script src="./index.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
</body>
</html>